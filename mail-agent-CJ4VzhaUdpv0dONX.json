{"updatedAt":"2025-10-01T14:12:24.000Z","createdAt":"2025-09-30T16:52:34.127Z","id":"CJ4VzhaUdpv0dONX","name":"mail agent","active":false,"isArchived":false,"nodes":[{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.3,"position":[-528,-48],"id":"9a34db84-c686-4542-97a8-fc1bb5d77d58","name":"When chat message received","webhookId":"31b4b33d-36fe-4b0a-93cc-6a02474986e3"},{"parameters":{"options":{"systemMessage":"=# Role:  \nYou are an intelligent email agent that automatically sends personalized emails to recipients. Your task is to generate and send a clear, professional, and accurate email based on the provided names, email addresses, and desired content. \n\n## Rules & Behavior:  \n\n## You have 2 Tools and need to use them correctly, you always use both tools, first the Vectorstore_mails after that the send_mail\n\n## Vectorstore_mails \nUse this tool to get Email adresses, you can get all mail adresses from pinecone.\nWashu test = foxjuan98@gmail.com\n\n## send_mail\nUse this tool to send mails.\n\n### Email Format:  \n- The email must include a **subject line**.  \n- It should begin with an appropriate **salutation** (e.g., \"Hello [Name]\" or \"Dear [Name]\").  \n- The **main content** should be clear, concise, and friendly.  \n- The email should end with a **suitable closing phrase** (e.g., \"Best regards, Washu\").  \n\n### Dynamic Personalization:  \n- Automatically replace the placeholder **[Name]** with the recipientâ€™s actual name.  \n- If the name is missing, use a general salutation such as **\"Hello, dear team\"**.  \n\n### Review & Optimization:   \n- Avoid unnecessary **repetitions or vague wording**.  \n- If the message is **too long or unstructured, summarize it clearly**.  \n\n## Email Types (Adaptable Based on Context):  \n- Standard information email  \n- Reminder or follow-up  \n- Offer or marketing email  \n- Support or customer service request  \n\n---\n\n### Example of a Generated Email:  \n\n**Subject:** Important Information for You, [Name]  \n\n**Text:**  \nHello [Name],  \n\nI hope you are doing well. I wanted to quickly inform you about [Topic]. If you have any questions or need further information, feel free to reach out.  \n\nBest regards,  \nWashu  "}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[-320,-48],"id":"8ccc1c0d-9b03-44d1-9288-bc1a70b16e61","name":"AI Agent"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[-320,176],"id":"d1d4b87a-5bde-4b3e-8278-1cbcf97280c6","name":"Google Gemini Chat Model","credentials":{"googlePalmApi":{"id":"ggXhpoQA5Xzl8Zv5","name":"Google Gemini(PaLM) Api account"}}},{"parameters":{"description":"Name: Vectorstore_mails\n\nUses: Use this tool to get Email information, you'll find all relevant mail addresses"},"type":"@n8n/n8n-nodes-langchain.toolVectorStore","typeVersion":1.1,"position":[-176,160],"id":"bac3d854-eabb-46fb-98a9-443296ebdac8","name":"Vector Store Mails"},{"parameters":{"pineconeIndex":{"__rl":true,"value":"mails","mode":"list","cachedResultName":"mails"},"options":{"pineconeNamespace":"docsmail"}},"type":"@n8n/n8n-nodes-langchain.vectorStorePinecone","typeVersion":1.3,"position":[-304,368],"id":"ed173d12-33a4-49fc-a02a-3aefc4284306","name":"Pinecone Vector Store","credentials":{"pineconeApi":{"id":"vE3rztXCf1LEHcBb","name":"PineconeApi account"}}},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.embeddingsGoogleGemini","typeVersion":1,"position":[-336,512],"id":"31296d26-8c51-479c-9fc8-cf3dd7bd1867","name":"Embeddings Google Gemini","credentials":{"googlePalmApi":{"id":"ggXhpoQA5Xzl8Zv5","name":"Google Gemini(PaLM) Api account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[0,320],"id":"82c4dbe2-2cd4-41c2-8199-04f3adb8f1ad","name":"Google Gemini Chat Model1","credentials":{"googlePalmApi":{"id":"ggXhpoQA5Xzl8Zv5","name":"Google Gemini(PaLM) Api account"}}},{"parameters":{"description":"Name: send_mail\nUse: Use this tool to send mails","workflowId":{"__rl":true,"value":"6SmVmWBPdwxcoZ0x","mode":"list","cachedResultName":"Send_mail_pinecone"},"workflowInputs":{"mappingMode":"defineBelow","value":{},"matchingColumns":[],"schema":[],"attemptToConvertTypes":false,"convertFieldsToString":false}},"type":"@n8n/n8n-nodes-langchain.toolWorkflow","typeVersion":2.2,"position":[144,128],"id":"5b31b484-a863-4215-b7f7-6f163ab12dfe","name":"send_mail"}],"connections":{"When chat message received":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"Google Gemini Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Vector Store Mails":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"Pinecone Vector Store":{"ai_vectorStore":[[{"node":"Vector Store Mails","type":"ai_vectorStore","index":0}]]},"Embeddings Google Gemini":{"ai_embedding":[[{"node":"Pinecone Vector Store","type":"ai_embedding","index":0}]]},"Google Gemini Chat Model1":{"ai_languageModel":[[{"node":"Vector Store Mails","type":"ai_languageModel","index":0}]]},"send_mail":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"5407b987-ec4a-4e48-aef7-6604a7d3c339","activeVersionId":null,"triggerCount":0,"shared":[{"updatedAt":"2025-09-30T16:52:34.182Z","createdAt":"2025-09-30T16:52:34.182Z","role":"workflow:owner","workflowId":"CJ4VzhaUdpv0dONX","projectId":"TshIhWI6bypAMWe5"}],"activeVersion":null,"tags":[]}